define("com/validator/0.10.3:utils",["lib/jquery/1.11.3:jquery","com/validator/0.10.3:rule"],function(require,exports,module){function unique(){return"__anonymous__"+u_count++}function parseRules(r){return r?r.match(/[a-zA-Z0-9\-\_]+(\{[^\{\}]*\})?/g):null}function parseDom(r){var r=$(r),e={},t=[],a=r.attr("required");a&&(t.push("required"),e.required=!0);var u=r.attr("type");if(u&&"submit"!=u&&"cancel"!=u&&"checkbox"!=u&&"radio"!=u&&"select"!=u&&"select-one"!=u&&"file"!=u&&"hidden"!=u&&"textarea"!=u){if(!Rule.getRule(u))throw new Error('Form field with type "'+u+'" not supported!');t.push(u)}var n=r.attr("min");n&&t.push('min{"min":"'+n+'"}');var i=r.attr("max");i&&t.push("max{max:"+i+"}");var s=r.attr("minlength");s&&t.push("minlength{min:"+s+"}");var l=r.attr("maxlength");l&&t.push("maxlength{max:"+l+"}");var o=r.attr("pattern");if(o){var p=new RegExp(o),h=unique();Rule.addRule(h,p),t.push(h)}var c=r.attr("data-rule");return c=c&&parseRules(c),c&&(t=t.concat(c)),e.rule=0==t.length?null:t.join(" "),e}function parseJSON(str){function getValue(str){return'"'==str.charAt(0)&&'"'==str.charAt(str.length-1)||"'"==str.charAt(0)&&"'"==str.charAt(str.length-1)?eval(str):str}if(!str)return null;var NOTICE='Invalid option object "'+str+'".';str=str.slice(1,-1);var result={},arr=str.split(",");return $.each(arr,function(r,e){if(arr[r]=$.trim(e),!arr[r])throw new Error(NOTICE);var t=arr[r].split(":"),a=$.trim(t[0]),u=$.trim(t[1]);if(!a||!u)throw new Error(NOTICE);result[getValue(a)]=$.trim(getValue(u))}),result}function isHidden(r){var e=r[0].offsetWidth,t=r[0].offsetHeight,a="TR"===r.prop("tagName");return 0!==e||0!==t||a?0===e||0===t||a?"none"===r.css("display"):!1:!0}var $=require("lib/jquery/1.11.3:jquery"),Rule=require("com/validator/0.10.3:rule"),u_count=0,helpers={};module.exports={parseRule:function(r){var e=r.match(/([^{}:\s]*)(\{[^\{\}]*\})?/);return{name:e[1],param:parseJSON(e[2])}},parseRules:parseRules,parseDom:parseDom,isHidden:isHidden,helper:function(r,e){return e?(helpers[r]=e,this):helpers[r]}}});