define("com/global/1.0.0:validator",["com/validator/0.10.3:validator","com/global/1.0.0:dollar","com/qtip/1.0.0:qtip"],function(a,t,r){var o=a("com/validator/0.10.3:validator"),e=a("com/global/1.0.0:dollar"),i=a("com/qtip/1.0.0:qtip");r.exports=o.extend({showError:function(a,t){var r=this,o=r.query(a);o&&r.get("showMessage").call(r,t,o.element)},showErrors:function(a){var t=this;if(e.isArray(a))for(var r in a){var o=a[r];t.showError(o.selector,o.msg)}},getSubmitData:function(){return this.element.serialize()},transformSelectors:function(a,t){for(var r in a){var o=a[r],e='[name="'+o.name+'"]';a[r].selector=t?t+" "+e:e}return a},resErrorCallback:function(a){a.data=this.transformSelectors(a.data),this.showErrors(a.data)},resOkCallback:function(a){var t=a.data||{},r=t.duration||0;a.url&&(r?setTimeout(function(){location.href=a.url},r):location.href=a.url),t.msg&&i({type:!0,text:t.msg,delayTime:r,fadeTime:0})},submitCallback:function(a){if(200===a.code)this.resOkCallback(a);else{if(a.needSafeCode){var t=e("#lander-veri");t.show();var r=e("#verify-img"),o=r.attr("src");r.on("click",function(){r.attr("src",o+"&timestamp="+e.now())})}this.resErrorCallback(a)}},attrs:{autoFocus:!1,autoSubmit:!1,failSilently:!0,onFormValidated:function(a,t,r){if(!r.data("unajax")&&!a){var o=this,i=r.data("url")||r.attr("action"),l=r.data("method")||r.attr("method")||"GET",n=r.data("type")||"json";e.ajax({url:i,type:l,dataType:n,data:o.getSubmitData(),success:function(a){o.submitCallback(a)}})}}}})});